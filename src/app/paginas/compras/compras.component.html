<section class="dashboard-compras">

  <h2 class="dashboard-title">Historial de Compras</h2>

  <!-- CARGANDO -->
  <div *ngIf="cargando" class="loader-container">
    <div class="loader"></div>
    <span>Cargando compras...</span>
  </div>

  <!-- ERROR -->
  <div *ngIf="error" class="error-msg">
    {{ error }}
  </div>

  <!-- NO HAY COMPRAS -->
  <div *ngIf="!cargando && compras.length === 0" class="no-compras">
    <p>No hay compras registradas aún.</p>
  </div>

  <!-- GRID DE COMPRAS -->
  <div class="compras-grid" *ngIf="compras.length > 0">
    <div *ngFor="let c of compras" class="compra-card">

      <div class="compra-info">
        <h4>Compra #{{ c.id_compra }}</h4>
        <p><strong>Fecha:</strong> {{ c.fecha }}</p>
        <p><strong>Total:</strong> ${{ c.total }}</p>
        <p><strong>Ítems:</strong> {{ c.items?.length }}</p>
      </div>

      <div class="compra-actions">
        <a class="btn btn-ticket" [routerLink]="['/ticket', c.id_compra]">
          Ver Ticket
        </a>
      </div>

    </div>
  </div>

</section>
